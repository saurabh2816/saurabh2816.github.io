<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Saurabh</title>

    <!-- Bootstrap core CSS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
    <link href="assets/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="assets/css/main.css" rel="stylesheet">

    <script>
    $(function() {
      "use strict";

      var app = app || {};

      app.sublime = function() {

        var activeClass = "active",

            $sublime = $(".sublime"),

            $tabs = $(".sublime-tabs__tab"),
            $links = $(".sublime-tabs__link"),
            $projects = $(".sublime-project"),

            $footer = $(".sublime__footer"),
            $title = $(".sublime__title"),
            titleText = $title.text(),

            $maxi = $(".js-sublime-maximise"),
            $togg = $(".js-sublime-toggle"),
            $mini = $(".js-sublime-minimise");

        $maxi.add( $togg ).on("click", function() {

          $sublime.css({
            "-webkit-transition-duration":"0",
            "-moz-transition-duration":"0",
            "-ms-transition-duration":"0",
            "transition-duration":"0",
            "opacity":"0",
            "left": "10em",
            "right": "10em",
            "top": "10em",
            "bottom": "10em"
          });

          $sublime.toggleClass("sublime--fullscreen");

          setTimeout(function() {
            $sublime.css({
              "-webkit-transition-duration":"",
              "-moz-transition-duration":"",
              "-ms-transition-duration":"",
              "transition-duration":"",
              "opacity":"",
              "left": "",
              "right": "",
              "top": "",
              "bottom": ""
            });
          },10);

        });

        $mini.on("click", function() {

          $sublime.removeClass("sublime--fullscreen");

        });

        $(window).on("sublimetab", function(e,href) {
        console.log(href);

          var $link = $links.filter("[href=" +href.replace("/","\\/")+ "]"),
              $tab = $link.closest(".sublime-tabs__tab");

          $tab.trigger("activateTab",href);

        });


        $tabs.on("activateTab", function(e,href) {

          href = href.split("/");

          var $tab = $(this),
              $project = $projects.filter("[data-project-name="+ href[href.length-1] +"]");

          // reverse the z-order
          $tabs
          .each( function(k,v) {
            $(v).css("z-index", $tabs.length - k);
          })
          .removeClass( activeClass );

          $tab
          .addClass( activeClass )
          .css("z-index", $tabs.length + 1 );

          $projects.removeClass( activeClass );

          $project.addClass( activeClass );

          $title.text( $tab.children(".sublime-tabs__link").text() + " - " + titleText);

          $footer.text( $tab.children(".sublime-tabs__link").data("type") );

        });

        $tabs
        .first()
        .trigger("activateTab", $links.first().attr("href") );

        $tabs.on("click",function(e){
          if( $(this).find(".sublime-tabs__link").attr("href") !== "#" ) {
            $(window).trigger("sublimetab", $(this).find(".sublime-tabs__link").attr("href") );
          }
        });

      };

      app.prettify = function() {
        window.prettyPrint();
      };

      app.sublime();
      app.prettify();




      });

    </script>

  </head>

  <body>

    <!-- Static navbar -->
    <div class="navbar navbar-inverse navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">SAURABH</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="work.html">Work</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>


	<!-- +++++ Projects Section +++++ -->

	<div class="container pt">
		<div class="row mt">
			<div class="col-lg-8 col-lg-offset-2 ">
				<h3>NODEJS CHAT <a href="https://tranquil-brook-39392.herokuapp.com"><button type="button" class="btn btn-success">Visit</button></a><br>
</h3>
				<hr>
				<p>A Real-Time Chat Application built using Node.js, Express. Open the demo URL in multiple tabs and start chatting.</p>
        <ul class="tagss centered">
        <li><a href="#" class="tagg">Node.js</a></li>
        <li><a href="#" class="tagg">Socket.io</a></li>
        <li><a href="#" class="tagg">jQuery</a></li>
        <li><a href="#" class="tagg">Express</a></li>
        <li><a href="#" class="tagg">CSS</a></li>
        <li><a href="#" class="tagg">HTML</a></li>
        </ul>
        <!-- <hr> -->
			</div>
		</div>

		<div class="row mt">
			<div class="col-lg-8 col-lg-offset-2">


      <h4>HIGHLIGHTS</h4>
      <div class="list-group">
      <a href="#" class="list-group-item">See all the users online</a>
      <a href="#" class="list-group-item">Minimum latency because of socket.io</a>
      <a href="#" class="list-group-item">Accepts unique username</a>
      </div>

    </div>

    <div class="col-lg-8 col-lg-offset-2">
      <br><h4>CODE</h4><br>


        <div class="sublime">

          <header class="sublime__title">~saurabh.rana</header>

          <ul class="sublime-tabs">

            <li class="sublime-tabs__tab">
              <a href="#_github/mainjs" class="sublime-tabs__link" data-type="js" data-project="mainjs">app.js</a>
            </li>
            <li class="sublime-tabs__tab">
              <a href="#_github/index" class="sublime-tabs__link" data-type="html" data-project="script">index.html</a>
            </li>
            <li class="sublime-tabs__tab">
              <a href="#_github/package" class="sublime-tabs__link" data-type="json" data-project="package">package.json</a>
            </li>

          </ul>

          <button class="sublime__button sublime__button--full js-sublime-maximise" tabindex="-1">go fullscreen</button>
          <button class="sublime__button sublime__button--maxi js-sublime-toggle" tabindex="-1">maximise</button>
          <button class="sublime__button sublime__button--exit js-sublime-minimise" tabindex="-1">exit</button>




          <div class="sublime-project" data-project-name="mainjs">

            <h4 class="sublime-project__title">app.js</h4>

            <pre class="sublime-project__code prettyprint lang-js linenums">
  var express = require('express'),
  app = express(),
  server = require('http').createServer(app),
  io = require('socket.io').listen(server),
  port = process.env.PORT || 8000;
  usernames = [];

  server.listen(port);

  app.use(express.static(__dirname));

  app.get('/', function(req, res) {
    res.sendFile(__dirname + '/index.html');
  });

  //this is server

  io.sockets.on('connection', function(socket) {
    socket.on('new user', function(data, callback){
      if(usernames.indexOf(data) != -1 || data === "") //-1 if not found
        callback(false, data);
      else {
        callback(true, data);
        socket.username = data;
        usernames.push(socket.username);
        updateUsernames();
      }
    });

    function updateUsernames() {
      io.sockets.emit('usernames', usernames);
    }

    socket.on('send message', function(data) {
      io.sockets.emit('new message', {msg: data, user: socket.username}); //gets the data/message at the server and emits it as the new message so that other users can receive it too...
    });

    //disconnect removes the username
    socket.on('disconnect', function(data) {
      if(!socket.username) return;
      usernames.splice(usernames.indexOf(socket.username), 1);
      updateUsernames();
    });
  });
            </pre>

          </div>


          <div class="sublime-project" data-project-name="index">

            <h4 class="sublime-project__title">Client Side socket.io implementation</h4>

            <pre class="sublime-project__code prettyprint lang-css linenums">

        $(function() {
        var socket = io.connect(); // 'io' is created in global window scope when we rquire the socket.io/socket.io.js file
        var $messageForm = $('#messageForm');
        var $message = $('#message');
        var $chat = $('#chatWindow');
        var $usernameForm = $('#usernameForm');
        // var $users = $('#users');
        var  users = document.getElementById('users');
        var $username = $('#username');
        var $usersonline = $('#usersonline');
        var $error = $('#error');
        $usernameForm.submit(function(e) {
          e.preventDefault();
          socket.emit('new user', $username.val(), function(data, returnedUsername) {
            if(data) {
              $('#namesWrapper').hide();
              $('#error').hide();
              $('#mainWrapper').show();
            } else {
              if(returnedUsername.toString() =                            {
                $error.html('Empty string not an acceptable username');
                $('#error').s                            }
              else {
              $error.html('Ooops! Looks like ' +'< b>' + returnedUsername + '</ b>' + ' is already taken!');
              $('#error').s                                                 }
          });
              $username.val('');
        });
        socket.on('usernames', function(data) {
          var html = "";
          for(i=0; i< data.length; i++)
            html += '< font color="red">'+data[i] + '</ font>< br>';
          users.innerHTML = html;
          usersonline.innerHTML = "< h3> " + data.length + " users online </ h3>";
        });
        $messageForm.submit(function(e) {
          e.preventDefault();     //If this method is called, the default action of the event will not be triggered
          socket.emit('send message', $message.val());
          $message.val(''); //after message is shown, clear the message
        });
      // if there is a new message at the server (sent by any other user) append it to the chatarea
      socket.on('new message', function(data) {
              $chat.append('< div class="new_message">' + '' + data.user + ' : '+  data.msg + '</ div>' +'< br>');
            });
          });



            </pre>

          </div>

          <div class="sublime-project" data-project-name="package">

            <h4 class="sublime-project__title">packages used</h4>

            <pre class="sublime-project__code prettyprint lang-js linenums">
              {
  "name":"ChatApplication",
  "version": "0.0.1",
  "private": true,
  "dependencies": {
    "socket.io": "*",
    "express": "*"
  }
}
            </pre>

          </div>


          <footer class="sublime__footer">Saurabh</footer>

        </div> <!--end of sublime-->

    </div>


		</div><!-- /row -->

	</div><!-- /container -->


	<!-- +++++ Footer Section +++++ -->

  <div id="footer">
		<div class="container">
			<div class="row">
				<div class="col-lg-3">
					<h4>Address</h4>
					<p>
						4000 SW 37 Blvd,<br/>
						Gainesville 32608, </br>
            Florida.
					</p>
				</div><!-- /col-lg-4 -->

				<div class="col-lg-3">
					<h4>Around The Web</h4>
					<p>
            <link rel="stylesheet" href="assets/css/font-awesome/css/font-awesome.min.css">

						<i class="fa fa-twitter" aria-hidden="true"></i><a href="http://www.twitter.com/saurabh_rana"> Twitter</a><br>
            <i class="fa fa-github" aria-hidden="true"></i><a href="http://www.github.com/saurabh2816"> Github</a>
					</p>

				</div><!-- /col-lg-4 -->

				<div class="col-lg-3">
          <h4>Download Resume</h4>
            <img src="assets/img/QRcode.png" >
              <p><br>Download my resume by scanning the QR code</p> <br>
              <!-- <div class="col-lg-2"> -->

              <!-- </div> -->

				</div><!-- /col-lg-3 -->

        <div class="col-lg-3">
          <script type="text/javascript" src="https://platform.linkedin.com/badges/js/profile.js" async defer></script>

<div class="LI-profile-badge"  data-version="v1" data-size="medium" data-locale="en_US" data-type="horizontal" data-theme="dark" data-vanity="saurabhsinghrana"><a class="LI-simple-link" href='https://www.linkedin.com/in/saurabhsinghrana?trk=profile-badge'>Saurabh Singh Rana</a></div>
        </div>

			</div>

		</div>
	</div>



    <script src="assets/js/bootstrap.min.js"></script>
  </body>
</html>
